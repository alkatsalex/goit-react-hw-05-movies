"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[177],{877:function(e,t,r){var n=r(861),a=r(757),c=r.n(a),s=r(294),i="https://api.themoviedb.org/3";function u(){return(u=(0,n.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("".concat(i,"/trending/movie/day?api_key=97e4ab2596be29617b1991836e844310"));case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("".concat(i,"/movie/").concat(t,"?api_key=97e4ab2596be29617b1991836e844310"));case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("".concat(i,"/movie/").concat(t,"/credits?api_key=97e4ab2596be29617b1991836e844310"));case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("".concat(i,"/movie/").concat(t,"/reviews?api_key=97e4ab2596be29617b1991836e844310"));case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("".concat(i,"/search/movie?query\n=").concat(t,"&api_key=97e4ab2596be29617b1991836e844310"));case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d={trendingFetch:function(){return u.apply(this,arguments)},movieByIdFacth:function(e){return o.apply(this,arguments)},castFetch:function(e){return p.apply(this,arguments)},reviewsFetch:function(e){return h.apply(this,arguments)},queryFetch:function(e){return l.apply(this,arguments)}};t.Z=d},177:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(683),a=r(861),c=r(439),s=r(757),i=r.n(s),u=r(877),o=r(791),p=r(689),h=r(87),l=r(184),d=function(e){var t=e.to;return(0,l.jsx)(h.rU,{to:t,children:"\u2b05 Go Back"})};function v(){var e,t,r=(0,o.useState)({}),s=(0,c.Z)(r,2),v=s[0],f=s[1],x=(0,p.UO)().movieId,b=(0,p.TH)();console.log(b.state);var m=null!==(e=null===(t=b.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";(0,o.useEffect)((function(){if(x){var e=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.movieByIdFacth(x);case 2:t=e.sent,console.log(t),f((0,n.Z)({},t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x&&e()}}),[x]);return(0,l.jsxs)("div",{children:[(0,l.jsx)(d,{to:m}),(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:v.poster_path?"https://image.tmdb.org/t/p/w300".concat(v.poster_path):"",alt:""})}),(0,l.jsxs)("h2",{children:[v.original_title,"(",function(){var e=v.release_date;return new Date(e).getFullYear()}(),")"]}),(0,l.jsxs)("p",{children:["User score: ","".concat(Math.round(10*v.vote_average),"%")]}),(0,l.jsx)("b",{children:"Overviwe"}),(0,l.jsx)("p",{children:v.overview}),(0,l.jsx)("b",{children:"Genres"}),(0,l.jsx)("ul",{children:v.genres&&v.genres.map((function(e){return(0,l.jsx)("li",{children:e.name},e.id)}))}),(0,l.jsxs)("div",{children:[(0,l.jsx)(h.rU,{to:"cast",children:(0,l.jsx)("p",{children:"Cast"})}),(0,l.jsx)(h.rU,{to:"reviews",children:(0,l.jsx)("p",{children:"Reviews"})}),(0,l.jsx)(p.j3,{})]})]})}}}]);
//# sourceMappingURL=177.6bf9adfa.chunk.js.map